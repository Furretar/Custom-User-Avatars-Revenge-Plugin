(function(n,l,u,r,U,f){"use strict";const{FormDivider:v,FormIcon:I,FormInput:g,FormRow:i}=U.Forms;function h(){return f.useProxy(r.storage),React.createElement(u.ReactNative.ScrollView,null,React.createElement(i,{label:"User ID"}),React.createElement(g,{placeholder:"Enter Discord User ID",value:r.storage.targetUserId||"",onChange:function(t){return r.storage.targetUserId=t}}),React.createElement(v,null),React.createElement(i,{label:"Image URL"}),React.createElement(g,{placeholder:"Enter image URL",value:r.storage.imageUrl||"",onChange:function(t){return r.storage.imageUrl=t}}))}const e="[custom-avatars]";let s=[];function R(){console.log(`${e} loaded`);const t=r.storage.targetUserId,S=r.storage.imageUrl,d=l.findByStoreName("UserStore");if(!d){console.log(`${e} userStore not found`);return}const o=l.findByProps("getUserAvatarURL");if(!o){console.log(`${e} avatar module not found`);return}if(o.getUserAvatarSource){const a=o.getUserAvatarSource;o.getUserAvatarSource=function(...c){if(c[0]?.id===t){const m=a.apply(this,c);if(m)return{...m,uri:S}}return a.apply(this,c)},s.push(function(){o.getUserAvatarSource=a})}console.log(`${e} Patches applied!`);try{u.FluxDispatcher.dispatch({type:"USER_UPDATE",user:d.getUser(t)}),console.log(`${e} ui refreshed`)}catch(a){console.log(`${e} could not trigger refresh:`,a.message)}}function E(){console.log(`${e} unloading...`),s.forEach(function(t){return t()}),s=[],console.log(`${e} unloaded`)}return n.onLoad=R,n.onUnload=E,n.settings=h,n})({},vendetta.metro,vendetta.metro.common,vendetta.plugin,vendetta.ui.components,vendetta.storage);
