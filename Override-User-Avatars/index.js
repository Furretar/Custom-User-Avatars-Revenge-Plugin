(function(g,d){"use strict";const e="[custom-avatars]",c="376407743776686094",u="https://private-user-images.githubusercontent.com/101470861/537119042-cf8166f4-9cf4-453f-8b55-ba22e98c90fa.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3Njg2NDgxMDksIm5iZiI6MTc2ODY0NzgwOSwicGF0aCI6Ii8xMDE0NzA4NjEvNTM3MTE5MDQyLWNmODE2NmY0LTljZjQtNDUzZi04YjU1LWJhMjJlOThjOTBmYS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjYwMTE3JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI2MDExN1QxMTAzMjlaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1mNGYzOThlMzBjZWQ5NDRmNzhjYTA1M2Q3NmRlNmYyZTcwNWM2MTgxYjM4MGZhYmZiMzc2ZjYwMTRjMGNlMTE4JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.EZM_8LbCUV4y_eiKPlaTlZSsK8zXlCjHDWuAtjwbR-o";let s=[];function m(){console.log(`${e} loaded`),console.log(`${e} Target ID: ${c}`),console.log(`${e} Override URL: ${u}`);const n=d.findByStoreName("UserStore");if(!n){console.log(`${e} UserStore not found`);return}const i=n.getUser(c);console.log(`${e} Target user:`,i?.username,i?.id);const o=d.findByProps("getUserAvatarURL");if(!o){console.log(`${e} Avatar module not found`);return}console.log(`${e} Found functions:`,Object.keys(o).filter(function(t){return t.includes("Avatar")}));const U=o.getUserAvatarURL;if(o.getUserAvatarURL=function(...t){const r=t[0];return console.log(`${e} [getUserAvatarURL] called for:`,r?.username,r?.id),r?.id===c?(console.log(`${e} \u2705 MATCH in getUserAvatarURL! Returning custom URL`),u):U.apply(this,t)},s.push(function(){o.getUserAvatarURL=U}),o.getUserAvatarSource){const t=o.getUserAvatarSource;o.getUserAvatarSource=function(...r){const l=r[0];return console.log(`${e} [getUserAvatarSource] called for:`,l?.username,l?.id),l?.id===c?(console.log(`${e} \u2705 MATCH in getUserAvatarSource! Returning custom source`),{uri:u}):t.apply(this,r)},s.push(function(){o.getUserAvatarSource=t}),console.log(`${e} Patched getUserAvatarSource`)}if(o.getGuildMemberAvatarSource){const t=o.getGuildMemberAvatarSource;o.getGuildMemberAvatarSource=function(...r){const[l,a]=r;return console.log(`${e} [getGuildMemberAvatarSource] called for userId:`,a),a===c?(console.log(`${e} \u2705 MATCH in getGuildMemberAvatarSource! Returning custom source`),{uri:u}):t.apply(this,r)},s.push(function(){o.getGuildMemberAvatarSource=t}),console.log(`${e} Patched getGuildMemberAvatarSource`)}const M=n.getUser;n.getUser=function(t){const r=M.call(this,t);return t===c&&r?(console.log(`${e} [UserStore.getUser] Intercepted target user, modifying avatar`),new Proxy(r,{get(l,a){return a==="avatar"?(console.log(`${e} Returning modified avatar hash`),"custom_override_hash"):l[a]}})):r},s.push(function(){n.getUser=M}),console.log(`${e} All patches applied!`),setTimeout(function(){console.log(`${e} Testing if patches work...`);const t=o.getUserAvatarURL(i,!1,128);if(console.log(`${e} Test URL result:`,t),o.getUserAvatarSource){const r=o.getUserAvatarSource(i,!1,128);console.log(`${e} Test source result:`,r)}},1e3)}function f(){console.log(`${e} unloading...`),s.forEach(function(n){return n()}),s=[],console.log(`${e} unloaded`)}return g.onLoad=m,g.onUnload=f,g})({},vendetta.metro);
